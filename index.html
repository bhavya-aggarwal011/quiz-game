<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Ultimate Quiz Game</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a202c;
            color: #e2e8f0;
        }

        .container {
            max-width: 90%;
            width: 700px;
        }

        .category-button, .answer-button, #play-again-btn {
            transition: all 0.2s ease-in-out;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .category-button:hover, .answer-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 8px -1px rgba(0, 0, 0, 0.2), 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .correct {
            background-color: #10b981 !important;
            box-shadow: 0 0 10px #10b981;
        }

        .wrong {
            background-color: #ef4444 !important;
            box-shadow: 0 0 10px #ef4444;
        }

        #message-box {
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1000;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">
    <div class="container bg-gray-800 rounded-2xl p-8 space-y-8 shadow-2xl">
        <h1 class="text-3xl md:text-5xl font-bold text-center text-yellow-300">The Ultimate Quiz Game</h1>

        <!-- Category Selection Screen -->
        <div id="category-screen" class="space-y-4 text-center">
            <p class="text-xl md:text-2xl font-semibold mb-6">Choose a category to begin:</p>
            <div class="grid grid-cols-2 sm:grid-cols-3 gap-4">
                <button class="category-button bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-xl" data-category="science">Science</button>
                <button class="category-button bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-xl" data-category="movies">Movies</button>
                <button class="category-button bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-xl" data-category="math">Math</button>
                <button class="category-button bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-xl" data-category="geography">Geography</button>
                <button class="category-button bg-yellow-600 hover:bg-yellow-700 text-white font-bold py-3 px-6 rounded-xl" data-category="english">English</button>
                <button class="category-button bg-pink-600 hover:bg-pink-700 text-white font-bold py-3 px-6 rounded-xl" data-category="logical_reasoning">Logical Reasoning</button>
            </div>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-screen" class="hidden space-y-6">
            <div class="flex justify-between items-center text-lg md:text-xl font-bold">
                <div id="score-display">Score: 0</div>
                <div id="question-count-display">Question 1/0</div>
            </div>
            <div class="bg-gray-700 p-6 rounded-xl">
                <h2 id="question-text" class="text-xl md:text-2xl font-semibold text-center"></h2>
            </div>
            <div id="answer-buttons" class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            </div>
        </div>

        <!-- Result Screen -->
        <div id="result-screen" class="hidden text-center space-y-6">
            <h2 class="text-3xl md:text-4xl font-bold text-yellow-300">Quiz Finished!</h2>
            <p id="final-score" class="text-2xl md:text-3xl font-bold"></p>
            <button id="play-again-btn" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-8 rounded-full">Play Again</button>
        </div>
    </div>
    
    <!-- Custom message box for alerts -->
    <div id="message-box" class="hidden fixed p-6 bg-gray-900 rounded-xl shadow-2xl text-center z-50">
        <p id="message-text" class="text-xl font-semibold mb-4"></p>
        <button id="message-close-btn" class="bg-gray-700 hover:bg-gray-600 text-white py-2 px-6 rounded-lg">OK</button>
    </div>

<script>
    // Game state variables
    let currentCategoryQuestions = [];
    let currentQuestionIndex = 0;
    let score = 0;

    // UI element references
    const categoryScreen = document.getElementById('category-screen');
    const quizScreen = document.getElementById('quiz-screen');
    const resultScreen = document.getElementById('result-screen');
    const questionText = document.getElementById('question-text');
    const answerButtonsContainer = document.getElementById('answer-buttons');
    const scoreDisplay = document.getElementById('score-display');
    const questionCountDisplay = document.getElementById('question-count-display');
    const finalScoreDisplay = document.getElementById('final-score');
    const playAgainBtn = document.getElementById('play-again-btn');
    const messageBox = document.getElementById('message-box');
    const messageText = document.getElementById('message-text');
    const messageCloseBtn = document.getElementById('message-close-btn');

    // --- Quiz Data ---
    // You can add more questions and categories here.
    // Make sure each object has a 'question', 'answers', and 'correct' property.
    const quizData = {
        science: [
            {
                question: "What is the largest planet in our solar system?",
                answers: ["Jupiter", "Saturn", "Neptune", "Earth"],
                correct: "Jupiter"
            },
            {
                question: "What is the chemical symbol for Gold?",
                answers: ["Go", "Au", "Ag", "Gd"],
                correct: "Au"
            },
            {
                question: "What is the speed of light in a vacuum?",
                answers: ["300,000 km/s", "150,000 km/s", "500,000 km/s", "1,000,000 km/s"],
                correct: "300,000 km/s"
            },
            {
                question: "Which element has the atomic number 1?",
                answers: ["Helium", "Oxygen", "Hydrogen", "Carbon"],
                correct: "Hydrogen"
            },
            {
                question: "What is the study of celestial objects and phenomena called?",
                answers: ["Geology", "Biology", "Astronomy", "Ecology"],
                correct: "Astronomy"
            }
        ],
        movies: [
            {
                question: "Who directed the movie 'Pulp Fiction'?",
                answers: ["Martin Scorsese", "Quentin Tarantino", "Steven Spielberg", "Alfred Hitchcock"],
                correct: "Quentin Tarantino"
            },
            {
                question: "In which film did Leonardo DiCaprio finally win his Oscar for Best Actor?",
                answers: ["The Wolf of Wall Street", "Inception", "The Revenant", "Titanic"],
                correct: "The Revenant"
            },
            {
                question: "What is the name of the wizard played by Ian McKellen in 'The Lord of the Rings'?",
                answers: ["Gandalf", "Saruman", "Dumbledore", "Merlin"],
                correct: "Gandalf"
            },
            {
                question: "Which movie is famous for the line, 'I'm going to make him an offer he can't refuse'?",
                answers: ["Goodfellas", "The Godfather", "Scarface", "The Untouchables"],
                correct: "The Godfather"
            },
            {
                question: "The movie 'Forrest Gump' is set in which country?",
                answers: ["United Kingdom", "United States", "France", "Germany"],
                correct: "United States"
            }
        ],
        math: [
            {
                question: "What is the value of pi ($$\\pi$$) to two decimal places?",
                answers: ["3.12", "3.14", "3.16", "3.18"],
                correct: "3.14"
            },
            {
                question: "What is the square root of 81?",
                answers: ["8", "9", "10", "7"],
                correct: "9"
            },
            {
                question: "What is 7 multiplied by 8?",
                answers: ["49", "56", "64", "72"],
                correct: "56"
            },
            {
                question: "What is the next number in the Fibonacci sequence: 0, 1, 1, 2, 3, 5, 8...?",
                answers: ["11", "12", "13", "14"],
                correct: "13"
            },
            {
                question: "What is the sum of angles in a triangle?",
                answers: ["90 degrees", "180 degrees", "270 degrees", "360 degrees"],
                correct: "180 degrees"
            }
        ],
        geography: [
            {
                question: "What is the capital of France?",
                answers: ["London", "Berlin", "Paris", "Rome"],
                correct: "Paris"
            },
            {
                question: "Which is the longest river in the world?",
                answers: ["Amazon River", "Nile River", "Yangtze River", "Mississippi River"],
                correct: "Nile River"
            },
            {
                question: "Which continent is the largest by land area?",
                answers: ["Africa", "North America", "Asia", "Europe"],
                correct: "Asia"
            },
            {
                question: "What is the highest mountain in the world?",
                answers: ["Mount Kilimanjaro", "Mount Everest", "Mount Denali", "K2"],
                correct: "Mount Everest"
            },
            {
                question: "Which country is known as the Land of the Rising Sun?",
                answers: ["China", "Thailand", "Japan", "South Korea"],
                correct: "Japan"
            }
        ],
        english: [
            {
                question: "Which of these is a synonym for 'happy'?",
                answers: ["Miserable", "Joyful", "Angry", "Sad"],
                correct: "Joyful"
            },
            {
                question: "What is the past tense of 'run'?",
                answers: ["running", "ran", "runs", "runned"],
                correct: "ran"
            },
            {
                question: "A group of lions is called a...",
                answers: ["flock", "pride", "pack", "school"],
                correct: "pride"
            },
            {
                question: "Which of these is an adverb?",
                answers: ["beautiful", "quickly", "car", "swim"],
                correct: "quickly"
            },
            {
                question: "What is the plural of 'child'?",
                answers: ["childs", "children", "childen", "childrens"],
                correct: "children"
            }
        ],
        logical_reasoning: [
            {
                question: "If all A are B and all B are C, then are all A C?",
                answers: ["Yes", "No", "Maybe", "Cannot be determined"],
                correct: "Yes"
            },
            {
                question: "Which number comes next in the series: 2, 4, 8, 16...?",
                answers: ["20", "24", "30", "32"],
                correct: "32"
            },
            {
                question: "Find the odd one out: Car, Bus, Train, Helicopter.",
                answers: ["Car", "Bus", "Train", "Helicopter"],
                correct: "Helicopter"
            },
            {
                question: "If a dog is to a kennel, then a bird is to a...?",
                answers: ["nest", "cage", "kennel", "den"],
                correct: "nest"
            },
            {
                question: "If you rearrange the letters 'CIFAICP', you would have the name of a(n)...",
                answers: ["animal", "country", "city", "ocean"],
                correct: "ocean"
            }
        ],
    };

    // --- Event Listeners ---
    document.querySelectorAll('.category-button').forEach(button => {
        button.addEventListener('click', () => {
            const category = button.dataset.category;
            startGame(category);
        });
    });

    playAgainBtn.addEventListener('click', resetGame);
    messageCloseBtn.addEventListener('click', () => {
        messageBox.classList.add('hidden');
    });

    // --- Game Functions ---
    function showMessage(text) {
        messageText.textContent = text;
        messageBox.classList.remove('hidden');
    }

    function startGame(category) {
        // Get the questions for the selected category
        currentCategoryQuestions = quizData[category];
        if (!currentCategoryQuestions || currentCategoryQuestions.length === 0) {
            showMessage("No questions found for this category. Please select another.");
            return;
        }
        
        // Shuffle the questions to make the game different each time
        currentCategoryQuestions = shuffleArray(currentCategoryQuestions);
        
        // Reset game state
        currentQuestionIndex = 0;
        score = 0;
        
        // Update UI
        categoryScreen.classList.add('hidden');
        quizScreen.classList.remove('hidden');
        
        updateScore();
        showQuestion();
    }

    function showQuestion() {
        // Hide the result screen if it's visible
        resultScreen.classList.add('hidden');
        
        // Get the current question
        const question = currentCategoryQuestions[currentQuestionIndex];
        
        // Update the question text and count
        questionText.textContent = question.question;
        questionCountDisplay.textContent = `Question ${currentQuestionIndex + 1}/${currentCategoryQuestions.length}`;
        
        // Clear previous answer buttons
        answerButtonsContainer.innerHTML = '';
        
        // Create and display answer buttons
        const shuffledAnswers = shuffleArray(question.answers);
        shuffledAnswers.forEach(answer => {
            const button = document.createElement('button');
            button.textContent = answer;
            button.classList.add('answer-button', 'bg-gray-700', 'hover:bg-gray-600', 'text-white', 'font-bold', 'py-3', 'px-6', 'rounded-xl', 'w-full');
            button.addEventListener('click', () => checkAnswer(button, question.correct));
            answerButtonsContainer.appendChild(button);
        });
    }

    function checkAnswer(selectedButton, correctAnswer) {
        const isCorrect = selectedButton.textContent === correctAnswer;
        
        if (isCorrect) {
            score++;
            selectedButton.classList.add('correct');
        } else {
            selectedButton.classList.add('wrong');
            // Find and highlight the correct answer
            Array.from(answerButtonsContainer.children).forEach(button => {
                if (button.textContent === correctAnswer) {
                    button.classList.add('correct');
                }
            });
        }
        
        // Disable all buttons after an answer is selected
        Array.from(answerButtonsContainer.children).forEach(button => {
            button.disabled = true;
        });

        // Update score display
        updateScore();

        // Wait a moment before moving to the next question or showing results
        setTimeout(() => {
            currentQuestionIndex++;
            if (currentQuestionIndex < currentCategoryQuestions.length) {
                showQuestion();
            } else {
                showResults();
            }
        }, 1000); // 1-second delay
    }

    function updateScore() {
        scoreDisplay.textContent = `Score: ${score}`;
    }

    function showResults() {
        quizScreen.classList.add('hidden');
        resultScreen.classList.remove('hidden');
        finalScoreDisplay.textContent = `You scored ${score} out of ${currentCategoryQuestions.length}!`;
    }
    
    function resetGame() {
        resultScreen.classList.add('hidden');
        categoryScreen.classList.remove('hidden');
    }

    // Utility function to shuffle an array
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }
</script>
</body>
</html>
